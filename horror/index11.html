
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>학교 괴담 게임</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background-color: #333;
    }
.main-container {
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  padding: 50px;
  max-width: 800px;
  width: 90%;
}

.background {
  position: relative;
  border: 1px solid #ccc;
  border-radius: 10px;
  margin-bottom: 20px;
  padding: 20px;
  background-size: cover;
  background-position: center;
}

.narrative {
  font-size: 18px;
  text-align: justify;
}

.choice {
  display: block;
  background-color: #ccc;
  border: 1px solid #999;
  border-radius: 5px;
  color: #333;
  font-size: 16px;
  padding: 10px;
  text-align: center;
  margin-bottom: 10px;
  cursor: pointer;
  text-decoration: none;
}

.choice:hover {
  background-color: #aaa;
}

.ghostImage {
  display: none;
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

  </style>
</head>
<body>
  <div class="main-container">
    <div id="background" class="background">
      <img src="./image/Ghost.png" alt="귀신 이미지" id="ghostImage" class="ghostImage" />
      <div class="narrative" id="narrative">
        게임을 시작합니다. 선택지를 클릭해 주세요.
      </div>
      <button class="choice" id="optionA" onclick="makeDecision('A')">선택지 A</button>
      <button class="choice" id="optionB" onclick="makeDecision('B')">선택지 B</button>
      <button class="choice" id="optionC" onclick="makeDecision('C')">선택지 C</button>
    </div>
  </div>
  <script>
    const narrative = document.getElementById('narrative');
    const optionA = document.getElementById('optionA');
    const optionB = document.getElementById('optionB');
    const optionC = document.getElementById('optionC');
    const background = document.getElementById('background');
    const ghostImage = document.getElementById('ghostImage');
    let currentStep = 0;
const script = [
  {
    narrative: '학교에 도착했습니다. 무엇부터 할까요?',
    optionA: { text: '교실로 이동하기', nextStep: 1 },
    optionB: { text: '무서운 계단을 찾아가기', nextStep: 2 },
    optionC: { text: '후문으로 들어가기', nextStep: 8 },
  },
  {
    narrative: '교실에 도착했습니다. 갑자기 무서운 소리가 들립니다. 어떻게 할까요?',
    optionA: { text: '소리가 들리는 방향으로 가기', nextStep: 3 },
    optionB: { text: '그냥 원래 자리에 있기', nextStep: 4 },
    optionC: { text: '좀 더 들여다보기', nextStep: 9 },
  },
  {
    narrative: '무서운 계단에 도착했습니다. 멀리서 귀신이 떠오르는 것 같은 기운이 느껴집니다. 어떻게 할까요?',
    optionA: { text: '호기심에 귀신의 모습을 확인하러 가까이 가보기', nextStep: 5 },
    optionB: { text: '무서워서 돌아가기', nextStep: 6 },
    optionC: { text: '요구르트를 꺼내 먹기', nextStep: 10 },
  },
  {
    narrative: '소리가 들리는 방향으로 가다가 빈 교실을 발견했습니다. 소리가 나는 원인을 찾아 볼까요?',
    optionA: { text: '원인을 찾아보기', nextStep: 7 },
    optionB: { text: '무서워져서 원래 자리로 돌아가기', nextStep: 4 },
    optionC: { text: '다시 후문으로 가기', nextStep: 11 },
  },
  {
    narrative: '그냥 원래 자리에 있기로 결정했습니다. 사건이 들통이 나지 않아 안심하였습니다. 게임을 종료합니다.',
    optionA: { text: '게임 재시작', nextStep: 0 },
    optionB: { text: '게임 종료', nextStep: -1 },
    optionC: { text: '', nextStep: null },
  },
  {
    narrative: '귀신 앞에 서 있습니다. 귀신은 살인마로 밝혀졌습니다. 게임을 종료하시겠습니까?',
    optionA: { text: '게임 재시작', nextStep: 0 },
    optionB: { text: '게임 종료', nextStep: -1 },
    optionC: { text: '요구르트를 꺼내 먹기', nextStep: 12 },
  },
  {
    narrative: '두려워서 돌아왔습니다. 복도에서 친구를 만났습니다. 함께 이야기를 나누며 안정을 찾아갑니다. 게임을 종료하시겠습니까?',
    optionA: { text: '게임 재시작', nextStep: 0 },
    optionB: { text: '게임 종료', nextStep: -1 },
    optionC: { text: '빈 교실에 다시 가기', nextStep: 3 },
  },
  {
    narrative: '빈 교실에서는 결국 원인을 찾을 수 없었습니다. 하지만, 고요한 그 교실에서 다시는 그 소리를 듣지 못했습니다. 게임을 종료하시겠습니까?',
    optionA: { text: '게임 재시작', nextStep: 0 },
    optionB: { text: '게임 종료', nextStep: -1 },
    optionC: { text: '무서운 계단을 다시 가보기', nextStep: 2 },
  },
  {
    narrative: '후문에서 벗어납니다. 이곳은 무서운 사건의 현장이었습니다. 일단 도망가야겠습니다.',
    optionA: { text: '교실로 이동하기', nextStep: 1 },
    optionB: { text: '무서운 계단을 찾아가기', nextStep: 2 },
    optionC: { text: '요구르트를 꺼내 먹기', nextStep: 5 },
},

      {
        narrative: '좀 더 들여다보니 코알라 그림이 그려진 종이가 마루에 떨어져 있었습니다. 원인은 알 수 없지만 이제 무서운 소리가 잠잠했습니다. 게임을 종료하시겠습니까?',
        optionA: { text: '게임 재시작', nextStep: 0 },
        optionB: { text: '게임 종료', nextStep: -1 },
        optionC: { text: '', nextStep: null },
      },
      {
        narrative: '요구르트를 꺼내서 먹기 시작했습니다. 무서운 이야기는 계속되지만 커튼 너머의 태양빛이 따뜻하게 느껴졌습니다. 게임을 종료하시겠습니까?',
        optionA: { text: '게임 재시작', nextStep: 0 },
        optionB: { text: '게임 종료', nextStep: -1 },
        optionC: { text: '', nextStep: null },
      },  
      {
        narrative: '다시 후문으로 갔습니다. 하지만 겁이 나 돌아오지 않을 수 없었습니다. 게임을 종료하시겠습니까?',
        optionA: { text: '게임 재시작', nextStep: 0 },
        optionB: { text: '게임 종료', nextStep: -1 },
        optionC: { text: '다시 교실로 이동하기', nextStep: 1 },
      },
      {
        narrative: '요구르트를 꺼내어 먹기 시작했습니다. 조금 덜 무서워 보이는 귀신은 징그럽게 삐졌다. 게임을 종료하시겠습니까?',
        optionA: { text: '게임 재시작', nextStep: 0 },
        optionB: { text: '게임 종료', nextStep: -1 },
        optionC: { text: '', nextStep: null },
      },
    ];

    function makeDecision(choice) {
      const selectedOption = script[currentStep]['option' + choice];
      if (!selectedOption) return;
      if (selectedOption.nextStep === -1) {
        endGame();
        return;
      }

      currentStep = selectedOption.nextStep;
      updateUI();
    }

    function updateUI() {
      const currentScript = script[currentStep];
      narrative.innerText = currentScript.narrative;
      optionA.innerText = currentScript.optionA.text;
      optionB.innerText = currentScript.optionB.text;
      optionC.innerText = currentScript.optionC.text;
    }

    function endGame() {
      narrative.innerHTML = '게임이 종료되었습니다. 새로 고침(F5)으로 게임을 다시 시작할 수 있습니다.';
      optionA.style.display = 'none';
      optionB.style.display = 'none';
      optionC.style.display = 'none';
    }

    updateUI();
  </script>
</body>

</html>
